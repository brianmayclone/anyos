#!/usr/bin/env python3
"""
Generate an 8x16 VGA-style bitmap font for ASCII characters 32-126.

Output: 1520 bytes (95 characters x 16 bytes each).
Each byte is one row of an 8-pixel-wide glyph, MSB = leftmost pixel.
"""

import os

# ---------------------------------------------------------------------------
# Font data: standard VGA / CP437 8x16 bitmaps for ASCII 32..126
# Each entry is a list of 16 hex bytes (top row first).
# ---------------------------------------------------------------------------

FONT = {
    # 32: Space
    32: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    ],
    # 33: !
    33: [
        0x00, 0x00, 0x18, 0x3C, 0x3C, 0x3C, 0x18, 0x18,
        0x18, 0x00, 0x18, 0x18, 0x00, 0x00, 0x00, 0x00,
    ],
    # 34: "
    34: [
        0x00, 0x66, 0x66, 0x66, 0x24, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    ],
    # 35: #
    35: [
        0x00, 0x00, 0x00, 0x6C, 0x6C, 0xFE, 0x6C, 0x6C,
        0x6C, 0xFE, 0x6C, 0x6C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 36: $
    36: [
        0x18, 0x18, 0x7C, 0xC6, 0xC2, 0xC0, 0x7C, 0x06,
        0x06, 0x86, 0xC6, 0x7C, 0x18, 0x18, 0x00, 0x00,
    ],
    # 37: %
    37: [
        0x00, 0x00, 0x00, 0x00, 0xC2, 0xC6, 0x0C, 0x18,
        0x30, 0x60, 0xC6, 0x86, 0x00, 0x00, 0x00, 0x00,
    ],
    # 38: &
    38: [
        0x00, 0x00, 0x38, 0x6C, 0x6C, 0x38, 0x76, 0xDC,
        0xCC, 0xCC, 0xCC, 0x76, 0x00, 0x00, 0x00, 0x00,
    ],
    # 39: '
    39: [
        0x00, 0x30, 0x30, 0x30, 0x60, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    ],
    # 40: (
    40: [
        0x00, 0x00, 0x0C, 0x18, 0x30, 0x30, 0x30, 0x30,
        0x30, 0x30, 0x18, 0x0C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 41: )
    41: [
        0x00, 0x00, 0x30, 0x18, 0x0C, 0x0C, 0x0C, 0x0C,
        0x0C, 0x0C, 0x18, 0x30, 0x00, 0x00, 0x00, 0x00,
    ],
    # 42: *
    42: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x66, 0x3C, 0xFF,
        0x3C, 0x66, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    ],
    # 43: +
    43: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x7E,
        0x18, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    ],
    # 44: ,
    44: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x18, 0x18, 0x18, 0x30, 0x00, 0x00, 0x00,
    ],
    # 45: -
    45: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFE,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    ],
    # 46: .
    46: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x18, 0x18, 0x00, 0x00, 0x00, 0x00,
    ],
    # 47: /
    47: [
        0x00, 0x00, 0x00, 0x00, 0x02, 0x06, 0x0C, 0x18,
        0x30, 0x60, 0xC0, 0x80, 0x00, 0x00, 0x00, 0x00,
    ],
    # 48: 0
    48: [
        0x00, 0x00, 0x7C, 0xC6, 0xC6, 0xCE, 0xDE, 0xF6,
        0xE6, 0xC6, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 49: 1
    49: [
        0x00, 0x00, 0x18, 0x38, 0x78, 0x18, 0x18, 0x18,
        0x18, 0x18, 0x18, 0x7E, 0x00, 0x00, 0x00, 0x00,
    ],
    # 50: 2
    50: [
        0x00, 0x00, 0x7C, 0xC6, 0x06, 0x0C, 0x18, 0x30,
        0x60, 0xC0, 0xC6, 0xFE, 0x00, 0x00, 0x00, 0x00,
    ],
    # 51: 3
    51: [
        0x00, 0x00, 0x7C, 0xC6, 0x06, 0x06, 0x3C, 0x06,
        0x06, 0x06, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 52: 4
    52: [
        0x00, 0x00, 0x0C, 0x1C, 0x3C, 0x6C, 0xCC, 0xFE,
        0x0C, 0x0C, 0x0C, 0x1E, 0x00, 0x00, 0x00, 0x00,
    ],
    # 53: 5
    53: [
        0x00, 0x00, 0xFE, 0xC0, 0xC0, 0xC0, 0xFC, 0x06,
        0x06, 0x06, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 54: 6
    54: [
        0x00, 0x00, 0x38, 0x60, 0xC0, 0xC0, 0xFC, 0xC6,
        0xC6, 0xC6, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 55: 7
    55: [
        0x00, 0x00, 0xFE, 0xC6, 0x06, 0x06, 0x0C, 0x18,
        0x30, 0x30, 0x30, 0x30, 0x00, 0x00, 0x00, 0x00,
    ],
    # 56: 8
    56: [
        0x00, 0x00, 0x7C, 0xC6, 0xC6, 0xC6, 0x7C, 0xC6,
        0xC6, 0xC6, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 57: 9
    57: [
        0x00, 0x00, 0x7C, 0xC6, 0xC6, 0xC6, 0x7E, 0x06,
        0x06, 0x06, 0x0C, 0x78, 0x00, 0x00, 0x00, 0x00,
    ],
    # 58: :
    58: [
        0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x00, 0x00,
        0x00, 0x18, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00,
    ],
    # 59: ;
    59: [
        0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x00, 0x00,
        0x00, 0x18, 0x18, 0x30, 0x00, 0x00, 0x00, 0x00,
    ],
    # 60: <
    60: [
        0x00, 0x00, 0x00, 0x06, 0x0C, 0x18, 0x30, 0x60,
        0x30, 0x18, 0x0C, 0x06, 0x00, 0x00, 0x00, 0x00,
    ],
    # 61: =
    61: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x7E, 0x00, 0x00,
        0x7E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    ],
    # 62: >
    62: [
        0x00, 0x00, 0x00, 0x60, 0x30, 0x18, 0x0C, 0x06,
        0x0C, 0x18, 0x30, 0x60, 0x00, 0x00, 0x00, 0x00,
    ],
    # 63: ?
    63: [
        0x00, 0x00, 0x7C, 0xC6, 0xC6, 0x0C, 0x18, 0x18,
        0x18, 0x00, 0x18, 0x18, 0x00, 0x00, 0x00, 0x00,
    ],
    # 64: @
    64: [
        0x00, 0x00, 0x00, 0x7C, 0xC6, 0xC6, 0xDE, 0xDE,
        0xDE, 0xDC, 0xC0, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 65: A
    65: [
        0x00, 0x00, 0x10, 0x38, 0x6C, 0xC6, 0xC6, 0xFE,
        0xC6, 0xC6, 0xC6, 0xC6, 0x00, 0x00, 0x00, 0x00,
    ],
    # 66: B
    66: [
        0x00, 0x00, 0xFC, 0x66, 0x66, 0x66, 0x7C, 0x66,
        0x66, 0x66, 0x66, 0xFC, 0x00, 0x00, 0x00, 0x00,
    ],
    # 67: C
    67: [
        0x00, 0x00, 0x3C, 0x66, 0xC2, 0xC0, 0xC0, 0xC0,
        0xC0, 0xC2, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 68: D
    68: [
        0x00, 0x00, 0xF8, 0x6C, 0x66, 0x66, 0x66, 0x66,
        0x66, 0x66, 0x6C, 0xF8, 0x00, 0x00, 0x00, 0x00,
    ],
    # 69: E
    69: [
        0x00, 0x00, 0xFE, 0x66, 0x62, 0x68, 0x78, 0x68,
        0x60, 0x62, 0x66, 0xFE, 0x00, 0x00, 0x00, 0x00,
    ],
    # 70: F
    70: [
        0x00, 0x00, 0xFE, 0x66, 0x62, 0x68, 0x78, 0x68,
        0x60, 0x60, 0x60, 0xF0, 0x00, 0x00, 0x00, 0x00,
    ],
    # 71: G
    71: [
        0x00, 0x00, 0x3C, 0x66, 0xC2, 0xC0, 0xC0, 0xDE,
        0xC6, 0xC6, 0x66, 0x3A, 0x00, 0x00, 0x00, 0x00,
    ],
    # 72: H
    72: [
        0x00, 0x00, 0xC6, 0xC6, 0xC6, 0xC6, 0xFE, 0xC6,
        0xC6, 0xC6, 0xC6, 0xC6, 0x00, 0x00, 0x00, 0x00,
    ],
    # 73: I
    73: [
        0x00, 0x00, 0x3C, 0x18, 0x18, 0x18, 0x18, 0x18,
        0x18, 0x18, 0x18, 0x3C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 74: J
    74: [
        0x00, 0x00, 0x1E, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C,
        0xCC, 0xCC, 0xCC, 0x78, 0x00, 0x00, 0x00, 0x00,
    ],
    # 75: K
    75: [
        0x00, 0x00, 0xE6, 0x66, 0x6C, 0x6C, 0x78, 0x78,
        0x6C, 0x66, 0x66, 0xE6, 0x00, 0x00, 0x00, 0x00,
    ],
    # 76: L
    76: [
        0x00, 0x00, 0xF0, 0x60, 0x60, 0x60, 0x60, 0x60,
        0x60, 0x62, 0x66, 0xFE, 0x00, 0x00, 0x00, 0x00,
    ],
    # 77: M
    77: [
        0x00, 0x00, 0xC6, 0xEE, 0xFE, 0xFE, 0xD6, 0xC6,
        0xC6, 0xC6, 0xC6, 0xC6, 0x00, 0x00, 0x00, 0x00,
    ],
    # 78: N
    78: [
        0x00, 0x00, 0xC6, 0xE6, 0xF6, 0xFE, 0xDE, 0xCE,
        0xC6, 0xC6, 0xC6, 0xC6, 0x00, 0x00, 0x00, 0x00,
    ],
    # 79: O
    79: [
        0x00, 0x00, 0x7C, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6,
        0xC6, 0xC6, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 80: P
    80: [
        0x00, 0x00, 0xFC, 0x66, 0x66, 0x66, 0x7C, 0x60,
        0x60, 0x60, 0x60, 0xF0, 0x00, 0x00, 0x00, 0x00,
    ],
    # 81: Q
    81: [
        0x00, 0x00, 0x7C, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6,
        0xC6, 0xD6, 0xDE, 0x7C, 0x0C, 0x0E, 0x00, 0x00,
    ],
    # 82: R
    82: [
        0x00, 0x00, 0xFC, 0x66, 0x66, 0x66, 0x7C, 0x6C,
        0x66, 0x66, 0x66, 0xE6, 0x00, 0x00, 0x00, 0x00,
    ],
    # 83: S
    83: [
        0x00, 0x00, 0x7C, 0xC6, 0xC6, 0x60, 0x38, 0x0C,
        0x06, 0xC6, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 84: T
    84: [
        0x00, 0x00, 0xFF, 0xDB, 0x99, 0x18, 0x18, 0x18,
        0x18, 0x18, 0x18, 0x3C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 85: U
    85: [
        0x00, 0x00, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6,
        0xC6, 0xC6, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 86: V
    86: [
        0x00, 0x00, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6,
        0xC6, 0x6C, 0x38, 0x10, 0x00, 0x00, 0x00, 0x00,
    ],
    # 87: W
    87: [
        0x00, 0x00, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6, 0xD6,
        0xD6, 0xFE, 0xEE, 0x6C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 88: X
    88: [
        0x00, 0x00, 0xC6, 0xC6, 0x6C, 0x7C, 0x38, 0x38,
        0x7C, 0x6C, 0xC6, 0xC6, 0x00, 0x00, 0x00, 0x00,
    ],
    # 89: Y
    89: [
        0x00, 0x00, 0xC6, 0xC6, 0xC6, 0x6C, 0x38, 0x18,
        0x18, 0x18, 0x18, 0x3C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 90: Z
    90: [
        0x00, 0x00, 0xFE, 0xC6, 0x86, 0x0C, 0x18, 0x30,
        0x60, 0xC2, 0xC6, 0xFE, 0x00, 0x00, 0x00, 0x00,
    ],
    # 91: [
    91: [
        0x00, 0x00, 0x3C, 0x30, 0x30, 0x30, 0x30, 0x30,
        0x30, 0x30, 0x30, 0x3C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 92: backslash
    92: [
        0x00, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0x70, 0x38,
        0x1C, 0x0E, 0x06, 0x02, 0x00, 0x00, 0x00, 0x00,
    ],
    # 93: ]
    93: [
        0x00, 0x00, 0x3C, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C,
        0x0C, 0x0C, 0x0C, 0x3C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 94: ^
    94: [
        0x10, 0x38, 0x6C, 0xC6, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    ],
    # 95: _
    95: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00,
    ],
    # 96: `
    96: [
        0x00, 0x30, 0x18, 0x0C, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    ],
    # 97: a
    97: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x78, 0x0C, 0x7C,
        0xCC, 0xCC, 0xCC, 0x76, 0x00, 0x00, 0x00, 0x00,
    ],
    # 98: b
    98: [
        0x00, 0x00, 0xE0, 0x60, 0x60, 0x78, 0x6C, 0x66,
        0x66, 0x66, 0x66, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 99: c
    99: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x7C, 0xC6, 0xC0,
        0xC0, 0xC0, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 100: d
    100: [
        0x00, 0x00, 0x1C, 0x0C, 0x0C, 0x3C, 0x6C, 0xCC,
        0xCC, 0xCC, 0xCC, 0x76, 0x00, 0x00, 0x00, 0x00,
    ],
    # 101: e
    101: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x7C, 0xC6, 0xFE,
        0xC0, 0xC0, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 102: f
    102: [
        0x00, 0x00, 0x1C, 0x36, 0x32, 0x30, 0x78, 0x30,
        0x30, 0x30, 0x30, 0x78, 0x00, 0x00, 0x00, 0x00,
    ],
    # 103: g
    103: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0xCC, 0xCC,
        0xCC, 0xCC, 0xCC, 0x7C, 0x0C, 0xCC, 0x78, 0x00,
    ],
    # 104: h
    104: [
        0x00, 0x00, 0xE0, 0x60, 0x60, 0x6C, 0x76, 0x66,
        0x66, 0x66, 0x66, 0xE6, 0x00, 0x00, 0x00, 0x00,
    ],
    # 105: i
    105: [
        0x00, 0x00, 0x18, 0x18, 0x00, 0x38, 0x18, 0x18,
        0x18, 0x18, 0x18, 0x3C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 106: j
    106: [
        0x00, 0x00, 0x06, 0x06, 0x00, 0x0E, 0x06, 0x06,
        0x06, 0x06, 0x06, 0x06, 0x66, 0x66, 0x3C, 0x00,
    ],
    # 107: k
    107: [
        0x00, 0x00, 0xE0, 0x60, 0x60, 0x66, 0x6C, 0x78,
        0x78, 0x6C, 0x66, 0xE6, 0x00, 0x00, 0x00, 0x00,
    ],
    # 108: l
    108: [
        0x00, 0x00, 0x38, 0x18, 0x18, 0x18, 0x18, 0x18,
        0x18, 0x18, 0x18, 0x3C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 109: m
    109: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0xEC, 0xFE, 0xD6,
        0xD6, 0xD6, 0xD6, 0xC6, 0x00, 0x00, 0x00, 0x00,
    ],
    # 110: n
    110: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0xDC, 0x66, 0x66,
        0x66, 0x66, 0x66, 0x66, 0x00, 0x00, 0x00, 0x00,
    ],
    # 111: o
    111: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x7C, 0xC6, 0xC6,
        0xC6, 0xC6, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 112: p
    112: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0xDC, 0x66, 0x66,
        0x66, 0x66, 0x66, 0x7C, 0x60, 0x60, 0xF0, 0x00,
    ],
    # 113: q
    113: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0xCC, 0xCC,
        0xCC, 0xCC, 0xCC, 0x7C, 0x0C, 0x0C, 0x1E, 0x00,
    ],
    # 114: r
    114: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0xDC, 0x76, 0x66,
        0x60, 0x60, 0x60, 0xF0, 0x00, 0x00, 0x00, 0x00,
    ],
    # 115: s
    115: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x7C, 0xC6, 0x60,
        0x38, 0x0C, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 116: t
    116: [
        0x00, 0x00, 0x10, 0x30, 0x30, 0xFC, 0x30, 0x30,
        0x30, 0x30, 0x36, 0x1C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 117: u
    117: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0xCC, 0xCC, 0xCC,
        0xCC, 0xCC, 0xCC, 0x76, 0x00, 0x00, 0x00, 0x00,
    ],
    # 118: v
    118: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0xC6, 0xC6, 0xC6,
        0xC6, 0x6C, 0x38, 0x10, 0x00, 0x00, 0x00, 0x00,
    ],
    # 119: w
    119: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0xC6, 0xC6, 0xC6,
        0xD6, 0xD6, 0xFE, 0x6C, 0x00, 0x00, 0x00, 0x00,
    ],
    # 120: x
    120: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0xC6, 0x6C, 0x38,
        0x38, 0x38, 0x6C, 0xC6, 0x00, 0x00, 0x00, 0x00,
    ],
    # 121: y
    121: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0xC6, 0xC6, 0xC6,
        0xC6, 0xC6, 0xC6, 0x7E, 0x06, 0x0C, 0xF8, 0x00,
    ],
    # 122: z
    122: [
        0x00, 0x00, 0x00, 0x00, 0x00, 0xFE, 0xCC, 0x18,
        0x30, 0x60, 0xC6, 0xFE, 0x00, 0x00, 0x00, 0x00,
    ],
    # 123: {
    123: [
        0x00, 0x00, 0x0E, 0x18, 0x18, 0x18, 0x70, 0x18,
        0x18, 0x18, 0x18, 0x0E, 0x00, 0x00, 0x00, 0x00,
    ],
    # 124: |
    124: [
        0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x00, 0x18,
        0x18, 0x18, 0x18, 0x18, 0x00, 0x00, 0x00, 0x00,
    ],
    # 125: }
    125: [
        0x00, 0x00, 0x70, 0x18, 0x18, 0x18, 0x0E, 0x18,
        0x18, 0x18, 0x18, 0x70, 0x00, 0x00, 0x00, 0x00,
    ],
    # 126: ~
    126: [
        0x00, 0x00, 0x76, 0xDC, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    ],
}


def render_char(code, rows):
    """Return an ASCII art preview of a single glyph."""
    lines = []
    lines.append(f"  char {code} ({chr(code) if 32 <= code <= 126 else '?'}):")
    for byte in rows:
        row = ""
        for bit in range(7, -1, -1):
            row += "#" if (byte >> bit) & 1 else "."
        lines.append("    " + row)
    return "\n".join(lines)


def main():
    out_path = os.path.join(
        os.path.dirname(os.path.dirname(os.path.abspath(__file__))),
        "kernel", "src", "graphics", "font_8x16.bin",
    )

    data = bytearray()
    for code in range(32, 127):  # ASCII 32..126 inclusive
        glyph = FONT[code]
        assert len(glyph) == 16, f"Glyph for {code} has {len(glyph)} rows, expected 16"
        data.extend(glyph)

    assert len(data) == 1520, f"Font data is {len(data)} bytes, expected 1520"

    os.makedirs(os.path.dirname(out_path), exist_ok=True)
    with open(out_path, "wb") as f:
        f.write(data)

    print(f"Wrote {len(data)} bytes to {out_path}")
    print(f"  Characters: 32..126 ({127 - 32} glyphs)")
    print(f"  Glyph size: 8x16 (16 bytes each)")
    print()

    # Print a few sample glyphs for visual verification
    samples = [ord('A'), ord('B'), ord('g'), ord('0'), ord('@'), ord('!')]
    print("Sample glyphs:")
    for code in samples:
        print(render_char(code, FONT[code]))
        print()


if __name__ == "__main__":
    main()
