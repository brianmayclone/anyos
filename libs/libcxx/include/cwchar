/*
 * Copyright (c) 2024-2026 Christian Moeller
 * SPDX-License-Identifier: MIT
 *
 * <cwchar> â€” C++ wrapper for wchar functions.
 */

#ifndef _LIBCXX_CWCHAR
#define _LIBCXX_CWCHAR

#include <cstddef>
#include <cstring>

typedef int mbstate_t;

namespace std {

using ::mbstate_t;
using ::size_t;

inline size_t wcslen(const wchar_t* s) {
    size_t len = 0;
    while (*s++) ++len;
    return len;
}

inline int wmemcmp(const wchar_t* a, const wchar_t* b, size_t n) {
    for (size_t i = 0; i < n; ++i) {
        if (a[i] < b[i]) return -1;
        if (a[i] > b[i]) return 1;
    }
    return 0;
}

inline wchar_t* wmemcpy(wchar_t* dst, const wchar_t* src, size_t n) {
    for (size_t i = 0; i < n; ++i) dst[i] = src[i];
    return dst;
}

inline wchar_t* wmemmove(wchar_t* dst, const wchar_t* src, size_t n) {
    if (dst < src) {
        for (size_t i = 0; i < n; ++i) dst[i] = src[i];
    } else {
        for (size_t i = n; i > 0; --i) dst[i-1] = src[i-1];
    }
    return dst;
}

inline wchar_t* wmemset(wchar_t* s, wchar_t c, size_t n) {
    for (size_t i = 0; i < n; ++i) s[i] = c;
    return s;
}

} // namespace std

#endif
